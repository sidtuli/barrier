<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>World Map</title>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">

    <link href="dist/jqvmap.css" media="screen" rel="stylesheet" type="text/css"/>

    <script type="text/javascript" src="js/jquery-1.12.0.js"></script>
    <script type="text/javascript" src="dist/jquery.vmap.js"></script>
    <script type="text/javascript" src="dist/maps/jquery.vmap.world.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/randata.js"></script>
    
    
    <script>
      jQuery(document).ready(function () {
        w = ($(window).width())* .9
        h = ($(window).height())* .9
        console.log(w)
        console.log(h)
        $("#vmap").width(w)
        $("#vmap").height(h)
        var pi =[]
        $.getJSON("data/wpfi.json",function(data){
            pi = data
            for(i = 0; i < data.length; i++) {
                console.log(data[i].FIELD3)
            }
        });
        console.log(sampledata.length)
        console.log(pi.length)
        jQuery('#vmap').vectorMap({
          map: 'world_en',
          backgroundColor: '#5577FF',
          color: '#ffffff',
          hoverOpacity: 0.7,
          selectedColor: '#0000ff',
          enableZoom: true,
          showTooltip: true,
          scaleColors: ['#FF0000', '#FFFF00'],
          values: sampledata,
          normalizeFunction: 'polynomial',
          onRegionClick: function(event, code, region) {
              console.log(code,region)
              $("#label").text(region)
              $("#label").show()
          },
          onResize: function(event, width, height) {
              console.log(width)
              console.log(height)
              w = ($(window).width()) * .9
              h = ($(window).height()) * .9
              $("#vmap").width(w)
              $("#vmap").height(h)
          }
        });
        
          
      });
    </script>
  </head>
  <body>
    <div id="vmap" style="width: 600px; height: 400px;margin: 0 auto;" ></div>
      <div style="text-align:center;margin-left: auto; margin-right: auto">
          <a href="bandwidth.html"><button id="label" style="display:none" ></button></a>
      </div>
  </body>
</html>
